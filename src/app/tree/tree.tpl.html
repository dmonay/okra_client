<section class="organization-wrapper">
	<div class="organization active" layout="row" layout-align="center" id="organizationNode">
		<div class="tree-node">
			{{vm.tree.orgName}}
		</div>
		<div layout="column" layout-align="start end">
			<md-button href class="md-raised md-primary" 
					ok-collapse 
					ok-toggle-color
					linked-to="organizationNode"
					all-linked-nodes="vm.linkedNodeIds"
					aria-label="toggle">
	        	<i class="fa fa-plus"></i>
	    	</md-button>
	    	<md-button href class="md-raised md-primary" aria-label="edit">
				<i class="fa fa-pencil"></i>
	    	</md-button>
	    </div>
	    <div layout="column" layout-align="start end">
	    	<md-button class="md-raised md-primary" ng-click="vm.openOrganizationMembersModal()" aria-label="members">
		    	<i class="fa fa-users"></i>
		    </md-button>
		    <md-button class="md-raised md-primary" ng-click="vm.openMissionStatementModal()" aria-label="mission statement">
		    	<i class="fa fa-briefcase"></i>
		    </md-button>
	    </div>
	</div> 

	<!-- objectives -->
	<div layout="row" class="collapse" layout-align="center center" id="objectiveNode">
		<div class="objective" layout="row" layout-align="start" ng-repeat="objective in vm.tree.objectives">
			<div class="tree-node" layout-align="start">
				{{objective.name}}
				<md-tooltip ng-if="objective.name.length > 14">
					{{objective.name}}
				</md-tooltip>
			</div>
			<div layout="column" layout-align="start end">
	            <md-button href class="md-raised" ng-click="vm.changeCurrentObjective(objective)" ok-collapse ok-toggle-color linked-to="objectiveNode"  all-linked-nodes="vm.linkedNodeIds" aria-label="toggle">
	            	<i class="fa fa-plus"></i>
	        	</md-button>
	        	<md-button href class="md-raised md-primary" aria-label="edit">
					<i class="fa fa-pencil"></i>
	        	</md-button>
	        </div>
		</div>
	</div>

	<!-- key results -->
	<div layout="row" class="collapse" layout-align="center center" id="keyResultNode">
		<div class="key-result" layout="row" layout-align="start" ng-repeat="keyResult in vm.currentObjective.key_results">
			<div class="tree-node">
				{{keyResult.name}}
				<md-tooltip ng-if="keyResult.name.length > 14">
					{{keyResult.name}}
				</md-tooltip>
			</div>
			<div layout="column" layout-align="end end">
				<md-button href class="md-raised" ng-click="vm.changeCurrentKeyResult(keyResult)" ok-collapse ok-toggle-color linked-to="keyResultNode" all-linked-nodes="vm.linkedNodeIds" aria-label="toggle">
	            	<i class="fa fa-plus"></i>
	        	</md-button>
	        	<md-button href class="md-raised md-primary fade-in" aria-label="edit">
					<i class="fa fa-pencil"></i>
	        	</md-button>
	        </div>
		</div>
	</div>

	<!-- Tasks -->
	<div layout="column" class="collapse" ok-collapse linked-to="taskNode" layout-align="space-around center" all-linked-nodes="vm.linkedNodeIds" id="taskNode">
		<div layout="row" layout-align="start center" ng-repeat="task in vm.currentKeyResult.tasks">
			<md-checkbox ng-model="task.complete" aria-label></md-checkbox>
			<div class="task-node">
				{{task.name}}
			</div>
		</div>
	</div>
</section>